"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[510],{2191:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"advanced/images-and-fonts","title":"Game Resources","description":"You can include sprites and fonts in your games!","source":"@site/content/advanced/60_images-and-fonts.mdx","sourceDirName":"advanced","slug":"/advanced/images-and-fonts","permalink":"/docs/advanced/images-and-fonts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Game Resources","description":"You can include sprites and fonts in your games!","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Lifecycle Events","permalink":"/docs/advanced/lifecycle"},"next":{"title":"Game I/O","permalink":"/docs/advanced/input"}}');var t=s(4848),a=s(8453);const i={title:"Game Resources",description:"You can include sprites and fonts in your games!",hide_title:!0},o=void 0,c={},d=[{value:"Images &amp; Sprites",id:"images--sprites",level:2},{value:"Import Images as base64-encoded Data URIs",id:"import-images-as-base64-encoded-data-uris",level:3},{value:"Use <code>ImageSource.fromSvgString</code> to load SVGs",id:"use-imagesourcefromsvgstring-to-load-svgs",level:3},{value:"Spritesheets",id:"spritesheets",level:2},{value:"Fonts",id:"fonts",level:2},{value:"Third-party libraries",id:"third-party-libraries",level:2}];function l(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)("img",{src:s(7257).A,alt:"excaliburjs logo",width:"48",height:"48",style:{display:"block"}}),(0,t.jsx)("span",{children:"Game Resources"})]}),"\n",(0,t.jsxs)(n.p,{children:["As ",(0,t.jsx)(n.a,{href:"./sandboxed",children:"previously mentioned"}),", your game is not permitted to make\nnetwork requests. This means that it can't ",(0,t.jsx)(n.em,{children:"asynchronously"})," load\nresources such as images, sprites, fonts, or libraries."]}),"\n",(0,t.jsxs)(n.p,{children:["Any\nresources needed by your game must be bundled into the game itself,\ni.e., into the final build ",(0,t.jsx)(n.a,{href:"/docs/build-a-game/create-your-project#rollupconfigmjs",children:"output file"}),",\n",(0,t.jsx)(n.code,{children:"bundle.js"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"images--sprites",children:"Images & Sprites"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://excaliburjs.com/",children:"ExcaliburJS"})," uses ",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/docs/imagesource",children:(0,t.jsx)(n.code,{children:"ImageSource"})})," to\nrepresent and load images. To bundle an image resource into your game, you have\na couple of options:"]}),"\n",(0,t.jsx)(n.h3,{id:"import-images-as-base64-encoded-data-uris",children:"Import Images as base64-encoded Data URIs"}),"\n",(0,t.jsxs)(n.p,{children:["You can import image resources as base64-encoded\n",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/URI/Reference/Schemes/data",children:(0,t.jsx)(n.strong,{children:"data URIs"})}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["To do this, first encode your image as a ",(0,t.jsx)(n.strong,{children:"base64 string"}),". You can find free base64\nencoders online; or, on a Mac or Linux machine, for example, you can use\nthe ",(0,t.jsx)(n.code,{children:"base64"})," command (i.e.,, ",(0,t.jsx)(n.code,{children:"base64 -i my-image.png"}),")."]}),"\n",(0,t.jsx)(n.p,{children:"Once you have the base64-encoded string for your image file, you can then copy\nit into a TypeScript-importable file \u2014 for example, if your image was an\nSVG file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="my-image.svg.ts"',children:"export default 'data:image/svg+xml;base64,<base64 encoded svg>';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Or, for a PNG file (note the ",(0,t.jsx)(n.code,{children:"image/png"})," MIME type):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="my-image.png.ts"',children:"export default 'data:image/png;base64,<base64 encoded png>';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Now we can import our image resource into our game and use it as a\n",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/docs/graphics",children:"graphic"}),"\non an ",(0,t.jsx)(n.code,{children:"Actor"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="main.ts"',children:"import { ..., ImageSource, ... } from 'excalibur';\nimport myImage from './my-image.svg'; // imports the my-image.svg.ts file\n\nconst myImageSource = new ImageSource(myImage);\n\nconst loadImgResources = () => {\n    return Promise.all([myImageSource.load()]);\n};\n\nexport const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n    \n    const desiredWidth = 50;\n\n    loadImgResources().then(() => {\n        const myActor = new Actor({\n            anchor: Anchor.Zero,\n            scale: vec(desiredWidth / sprite.width, desiredWidth / sprite.width)\n        });\n        myActor.graphics.use(myImageSource.toSprite());\n        engine.add(myActor);\n    });\n    \n}\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"use-imagesourcefromsvgstring-to-load-svgs",children:["Use ",(0,t.jsx)(n.code,{children:"ImageSource.fromSvgString"})," to load SVGs"]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/api/class/ImageSource/#fromSvgString",children:(0,t.jsx)(n.code,{children:"ImageSource.fromSvgString"})}),"\nto load SVG files directly from a string; no need to base64-encode them!"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const arrowImageSource = ImageSource.fromSvgString(`\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nversion="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">\n...\n</svg>`)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Make sure your ",(0,t.jsx)(n.code,{children:"<svg/>"})," tag has a ",(0,t.jsx)(n.code,{children:"width"})," and ",(0,t.jsx)(n.code,{children:"height"})," attribute."]}),"\n",(0,t.jsx)(n.h2,{id:"spritesheets",children:"Spritesheets"}),"\n",(0,t.jsxs)(n.p,{children:["We can also create a ",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/docs/spritesheets",children:(0,t.jsx)(n.code,{children:"SpriteSheet"})})," from\nan ",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/docs/imagesource",children:(0,t.jsx)(n.code,{children:"ImageSource"})}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { ..., ImageSource, SpriteSheet, ... } from 'excalibur';\nimport mySpriteSheet from './my-sprite-sheet.png';\n\nconst mySpriteSheetImageSource = new ImageSource(mySpriteSheet);\n\n...\n\nloadImgResources().then(() => {\n    const sheet = SpriteSheet.fromImageSource(mySpriteSheetImageSource);\n    // ...\n};\n\n...\n"})}),"\n",(0,t.jsx)(n.h2,{id:"fonts",children:"Fonts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { ..., Font, ... } from 'excalibur';\nimport myFont from './MyFont.woff';\n\nconst myFontFace = new FontFace('MyFont', `url(${myFont})`);\n\nexport const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n\n    myFontFace.load().then((loaded) => {\n        document.fonts.add(loaded);\n\n        const myFont = new Font({\n            color: Color.Purple,\n            size: 14,\n            family: 'MyFont',\n            unit: FontUnit.Px\n        });\n        \n        engine.add(new Label({\n            text: \"Hello, world!\",\n            font: myFont,\n            pos: vec(\n                (engine.drawWidth - messageDimensions.width) / 2,\n                (engine.drawHeight - messageDimensions.height) / 2),\n        }));\n    });\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"third-party-libraries",children:"Third-party libraries"}),"\n",(0,t.jsx)(n.p,{children:"You can bundle third-party libraries with your game, as long as your final game\nfile isn't larger than the 500kb limit."}),"\n",(0,t.jsxs)(n.p,{children:["(For example, the ",(0,t.jsx)(n.a,{href:"https://github.com/xelly-games/game-examples/tree/main/sudoku-hi-res",children:"example sudoku game"})," uses the\n",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@algorithm.ts/sudoku",children:"@algorithm.ts/sudoku"})," to generate\ngame puzzles.)"]}),"\n",(0,t.jsxs)(n.p,{children:["With our ",(0,t.jsx)(n.a,{href:"/docs/build-a-game/create-your-project#rollupconfigmjs",children:"rollup config"}),",\nany third-party libraries besides ",(0,t.jsx)(n.a,{href:"https://excaliburjs.com/",children:"ExcaliburJS"})," and\n",(0,t.jsx)(n.a,{href:"https://github.com/xelly-games/xelly.js",children:"xelly.js"})," (which are provided by the\nplatform) will automatically get bundled when you run ",(0,t.jsx)(n.code,{children:"npm run build"}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},7257:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/wired-outline-962-social-media-marketing-hover-pinch-1b7ad11ac12fdb02c02ea73c402c272e.webp"},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var r=s(6540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);