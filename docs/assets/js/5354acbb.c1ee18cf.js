"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[788],{1537:(e,n,t)=>{t.d(n,{A:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAEACAYAAACeZ7vLAAAABHNCSVQICAgIfAhkiAAAA8tJREFUeJzt3SFPVmEch2FwbAZmcyYT2ZktzsYsJjaDn8DKzCSzn4BOcCNZ7AQNzMRHMBjIVq3OOTf4H3wPt9fVz3kfeHfvCew3trYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG7W9qYPAGtxcHDwY9Nn+JvT09Mr93rnJg4CrIPAIUzgECZwCBM4hAkcwgQOYTubPgAsZfp37P39/aWOci3n5+eLv9MNDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQJnAIEziE2YOzGrd9z723tzd63h4cuBKBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQJnAIEziECRzC7MFZzP++5764uBg9f3x8vD16wR+4wSFM4BAmcAgTOIQJHMIEDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHsMX3p9xe9tyzPffh4eHqenKDQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQJnAIEziECRzCBA5hq9uvcn323L0995QbHMIEDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQJnAIy+1fbzN7bnvupbnBIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQJnAIEziECRzCBA5hAoew1H727av7oz310cnl6Pdhz23PvTZucAgTOIQJHMIEDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhbGfTB/jVdM/9/MnD6RFGn//gmT336AUszg0OYQKHMIFDmMAhTOAQJnAIEziECRzCBA5hAocwgUOYwCFM4BAmcAgTOIStag++adM9+Zfh59tzszQ3OIQJHMIEDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIFDmMAhTOAQltr/ruD/i498/Px19PzRyWXq+2TODQ5hAocwgUOYwCFM4BAmcAgTOIQJHMIEDmEChzCBQ5jAIUzgECZwCBM4hK1qP/zu8b3Rnnvq+6O7o+dfvni60Emu5/2Hs9Hz9uQ9bnAIEziECRzCBA5hAocwgUOYwCFM4BAmcAgTOIQJHMIEDmEChzCBQ5jAIWxnyZdtes+9u7s7ev7NybfhHvpsoz+/PTe/c4NDmMAhTOAQJnAIEziECRzCBA5hAocwgUOYwCFM4BAmcAgTOIQJHMIEDmGL7oene/Dpnvv1p+meG1rc4BAmcAgTOIQJHMIEDmEChzCBQ5jAIUzgECZwCBM4hAkcwgQOYQKHMIEDAAAAAAAAAAAAAAAAAAAA/GM/ATw6YK3h9qzTAAAAAElFTkSuQmCC"},5135:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"advanced/excaliburjs","title":"ExcaliburJS Intro","description":"An introduction to ExcaliburJS.","source":"@site/content/advanced/10_excaliburjs.mdx","sourceDirName":"advanced","slug":"/advanced/excaliburjs","permalink":"/docs/advanced/excaliburjs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"ExcaliburJS Intro","description":"An introduction to ExcaliburJS.","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Advanced Topics","permalink":"/docs/category/advanced-topics"},"next":{"title":"Sandboxing","permalink":"/docs/advanced/sandboxed"}}');var r=t(4848),s=t(8453);const c={title:"ExcaliburJS Intro",description:"An introduction to ExcaliburJS.",hide_title:!0},o=void 0,a={},l=[{value:"Engine",id:"engine",level:2},{value:"Actors",id:"actors",level:2},{value:"Graphics",id:"graphics",level:2},{value:"Motion",id:"motion",level:2},{value:"Collisions",id:"collisions",level:2},{value:"Input",id:"input",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,r.jsx)("img",{src:t(1537).A,alt:"excaliburjs logo",width:"48",height:"48",style:{display:"block"}}),(0,r.jsx)("span",{children:"ExcaliburJS Intro"})]}),"\n",(0,r.jsxs)(n.p,{children:["xelly.games games are built using the ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/",children:"ExcaliburJS"})," framework.\nThe ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/",children:"ExcaliburJS docs"})," are\nhighly recommended, but here's a quick detour:"]}),"\n",(0,r.jsx)(n.h2,{id:"engine",children:"Engine"}),"\n",(0,r.jsxs)(n.p,{children:["As we ",(0,r.jsx)(n.a,{href:"../build-a-game/main-ts#the-install-function",children:"saw previously"}),",\nyou will not create your own ExcaliburJS\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/engine",children:(0,r.jsx)(n.code,{children:"Engine"})})," instance."]}),"\n",(0,r.jsxs)(n.p,{children:["The xelly.games platform will provide you with an ",(0,r.jsx)(n.code,{children:"Engine"}),"\ninstance that is already mounted to an HTML ",(0,r.jsx)(n.code,{children:"canvas"})," element, in a\n",(0,r.jsx)(n.a,{href:"./sandboxed",children:"sandboxed iframe"}),", and given a\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/api/enum/DisplayMode#Fixed",children:"fixed size"})," appropriate\nfor the user's mobile device and xelly.games feed."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const install: XellyInstallFunction \n    = (context: XellyContext, engine: Engine) => {\n\n    // use the provided `engine` to create your game here\n\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Users will play your games from differently sized mobile devices. You can\nfind out the dimensions of your game screen via the ",(0,r.jsx)(n.code,{children:"engine.drawWidth"})," and\n",(0,r.jsx)(n.code,{children:"engine.drawHeight"})," properties."]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["An iPhone XR, for example, may result in a game resolution width of ",(0,r.jsx)(n.strong,{children:"379px"}),",\nan Samsung Galaxy S20 Ultra, ",(0,r.jsx)(n.strong,{children:"394px"}),",\nand an iPad or Desktop browser, limited at ",(0,r.jsx)(n.strong,{children:"412px"}),' ("CSS pixels").']}),(0,r.jsxs)(n.p,{children:["Using the ",(0,r.jsx)(n.a,{href:"https://xelly.games/utility",children:"utility tool"})," and ",(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/devtools/device-mode",children:"your browser's device simulator"}),",\nyou can test your game on different device sizes."]}),(0,r.jsxs)(n.p,{children:["When you upload and/or test your game you can also select an ",(0,r.jsx)(n.strong,{children:"aspect ratio"}),"\nof ",(0,r.jsx)(n.code,{children:"default"})," (4:3) or ",(0,r.jsx)(n.code,{children:"tall"})," (\u2248 4:5.2, or 1.75x taller than ",(0,r.jsx)(n.code,{children:"default"}),").\nSome games, like ",(0,r.jsx)(n.a,{href:"https://xelly.games/game/8c670b68-b5b0-485f-80e3-b6ee3c6ffd43",children:"tetris"}),",\nfor example, benefit from more vertical real estate."]}),(0,r.jsxs)(n.p,{children:["Read more about this topic at ",(0,r.jsx)(n.a,{href:"./device-dimensions",children:"Device Dimensions"}),"."]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["It is common to use ",(0,r.jsx)(n.code,{children:"engine.drawWidth"})," and ",(0,r.jsx)(n.code,{children:"engine.drawHeight"})," to layout your\ngame dynamically based on the user's game screen resolution."]})}),"\n",(0,r.jsx)(n.h2,{id:"actors",children:"Actors"}),"\n",(0,r.jsxs)(n.p,{children:["The easiest and most common way to get something onto the screen is to use an\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/actors",children:(0,r.jsx)(n.code,{children:"Actor"})}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const install: XellyInstallFunction \n    = (context: XellyContext, engine: Engine) => {\n\n    engine.add(new Actor({\n        anchor: Vector.Half,\n        radius: 50,\n        color: Color.Purple,\n        pos: vec(engine.drawWidth / 2, engine.drawHeight / 2)\n    }));\n\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"This gets us a purple ball in the center of our game screen."}),"\n",(0,r.jsxs)(n.p,{children:["The ExcaliburJS ",(0,r.jsx)(n.code,{children:"Actor"})," type represents more than just the visual thing to draw on the screen \u2014\nit also encapsulates position, motion (linear and angular velocity and\nacceleration), collision detection, and input/output \u2014 all the cool\ncapabilities you need to make a game."]}),"\n",(0,r.jsx)(n.h2,{id:"graphics",children:"Graphics"}),"\n",(0,r.jsxs)(n.p,{children:["An Actor's ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/graphics",children:(0,r.jsx)(n.strong,{children:"graphic"})})," determines what is\ndrawn to the screen for that Actor/entity."]}),"\n",(0,r.jsxs)(n.p,{children:['We used a nice little "cheat" above to get the Actor\'s ',(0,r.jsx)(n.strong,{children:"graphic"})," (and ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/colliders/",children:"collider"}),"!) for free \u2014\ni.e., by specifying a ",(0,r.jsx)(n.code,{children:"radius"})," and ",(0,r.jsx)(n.code,{children:"color"})," when we construct the actor, ExcaliburJS\nautomatically creates a ",(0,r.jsx)(n.code,{children:"Circle"})," graphic (and collider) and sets it on the Actor for us."]}),"\n",(0,r.jsxs)(n.p,{children:["When developing games it can be helpful to use this cheat to quickly get something\nrendering and moving on the screen (as a placeholder, say), but typically we will want to set the Actor's\ngraphic explicitly to something like a ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/sprites",children:(0,r.jsx)(n.code,{children:"Sprite"})}),",\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/animation",children:(0,r.jsx)(n.code,{children:"Animation"})}),", or other:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// add some *named* graphics\nmyActor.graphics.add(myDefaultGraphic);\nmyActor.graphics.add('open', myOpenGraphic);\nmyActor.graphics.add('squashed', mySquashedGraphic);\n...\n// set the current graphics displayed for the actor\nmyActor.graphics.use('squashed');\n...\n// set the current graphics to the default graphic\nmyActor.graphics.use('default');\n"})}),"\n",(0,r.jsx)(n.h2,{id:"motion",children:"Motion"}),"\n",(0,r.jsx)(n.p,{children:"It's pretty easy to get our Actor in motion:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n\n    let actor = new Actor({\n        anchor: Vector.Half,\n        radius: 50,\n        color: Color.Purple,\n        pos: vec(engine.drawWidth / 2, engine.drawHeight / 2)\n    });\n\n    actor.vel = vec(100, 0); // 100 pixels per second to the right\n\n    engine.add(actor);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will send our purple ball moving to the right and off the screen."}),"\n",(0,r.jsx)(n.h2,{id:"collisions",children:"Collisions"}),"\n",(0,r.jsx)(n.p,{children:"ExcaliburJS has a built-in collision detection system."}),"\n",(0,r.jsxs)(n.p,{children:["To participate in collision detection (and get ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/collision-events",children:"collision events"}),"),\nour ",(0,r.jsx)(n.code,{children:"Actor"})," must have a ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/colliders",children:(0,r.jsx)(n.code,{children:"Collider"})}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The default ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/collisiontypes",children:(0,r.jsx)(n.code,{children:"CollisionType"})})," is\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/api/enum/CollisionType#Passive",children:(0,r.jsx)(n.code,{children:"Passive"})}),", which means\ncollision events will be raised on the ",(0,r.jsx)(n.code,{children:"Actor"})," but the ",(0,r.jsx)(n.code,{children:"Actor"})," will not be\npushed or moved automatically by other ",(0,r.jsx)(n.code,{children:"Actor"}),"s."]}),"\n",(0,r.jsxs)(n.p,{children:["The geometry that is used for collision detection is determined by the Actor's\n",(0,r.jsx)(n.code,{children:"Collider"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Simple collider geometrics like circles and rectangles are easily established\nvia ",(0,r.jsx)(n.code,{children:"Actor"})," constructor properties \u2014 ",(0,r.jsx)(n.code,{children:"radius"})," for a circle collider and\n",(0,r.jsx)(n.code,{children:"width"})," and ",(0,r.jsx)(n.code,{children:"height"})," for a rectangular collider:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"let actor = new Actor({\n    radius: 50,\n    // if we set a `color`, as well,\n    //   we would automatically get a circle\n    //   *graphic* (as mentioned above)\n    // color: Color.Purple\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["More complex colliders can be created explicitly, however. See the\n",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/colliders/",children:"Colliders documentation"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"input",children:"Input"}),"\n",(0,r.jsx)(n.p,{children:"To have our ball stop when the user taps (or clicks) on it, we can add an event listener:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"/** Install. */\nexport const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n\n    let actor = new Actor({\n        anchor: Vector.Half,\n        radius: 50,\n        color: Color.Purple,\n        pos: vec(engine.drawWidth / 2, engine.drawHeight / 2)\n    });\n\n    actor.vel = vec(100, 0);\n\n    actor.on('pointerdown', (e) => {\n        actor.vel = Vector.Zero;\n    });\n\n    engine.add(actor);\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"But wait!"}),"\n",(0,r.jsxs)(n.p,{children:["Now that we've introduced user input, we have a non-passive game.\nWe now need to indicate that our game is a ",(0,r.jsx)(n.code,{children:"XellyGameType.Realtime"})," game\n(via our game's ",(0,r.jsx)(n.a,{href:"../build-a-game/main-ts#metadata",children:"exported metadata"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const metadata: XellyMetadata = {\n    type: XellyGameType.Realtime\n};\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["If you don't update your ",(0,r.jsx)(n.code,{children:"metadata"})," export to set ",(0,r.jsx)(n.code,{children:"type"})," to ",(0,r.jsx)(n.code,{children:"XellyGameType.Realtime"}),",\nyou will find that the tap handling doesn't work!"]})}),"\n",(0,r.jsxs)(n.p,{children:["Hey, now, ",(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=EF8GhC-T_Mo",children:"would you look at that"}),"?"]}),"\n",(0,r.jsx)(n.p,{children:"We've built our first real game!"}),"\n",(0,r.jsx)(n.p,{children:"Let's call it\n\"Stop the Purple Ball Before it Runs Off the Screen\". It might\nnot ready to go viral yet, but it's a start, ain't it?"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Read more about ",(0,r.jsx)(n.a,{href:"./input",children:"Game I/O"})," here."]})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);