"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[689],{1673:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"advanced/images-and-fonts","title":"Images and Fonts","description":"As mentioned earlier, your game is not able to make","source":"@site/content/advanced/60_images-and-fonts.md","sourceDirName":"advanced","slug":"/advanced/images-and-fonts","permalink":"/docs/advanced/images-and-fonts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Images and Fonts"},"sidebar":"tutorialSidebar","previous":{"title":"Lifecycle Events","permalink":"/docs/advanced/lifecycle"},"next":{"title":"Submitting Your Game","permalink":"/docs/advanced/submitting"}}');var r=s(4848),i=s(8453);const a={title:"Images and Fonts"},o=void 0,c={},l=[{value:"Images &amp; Sprites",id:"images--sprites",level:2},{value:"base64 encode your image",id:"base64-encode-your-image",level:3},{value:"Spritesheets",id:"spritesheets",level:2},{value:"Fonts",id:"fonts",level:2},{value:"Third-party libraries",id:"third-party-libraries",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"./sandboxed",children:"As mentioned earlier"}),", your game is not able to make\nnetwork requests. This means that it can't asynchronously load any\nresources, such as images, sprites, fonts, or libraries."]}),"\n",(0,r.jsxs)(n.p,{children:["Any resources needed by your game must be bundled into the game's\n",(0,r.jsx)(n.a,{href:"/docs/build-a-game/create-your-project#rollupconfigmjs",children:"build output file"}),",\n",(0,r.jsx)(n.code,{children:"bundle.js"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"images--sprites",children:"Images & Sprites"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://excaliburjs.com/",children:"ExcaliburJS"})," uses ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/imagesource",children:(0,r.jsx)(n.code,{children:"ImageSource"})})," to\nrepresent and load images. To bundle an image resource into your game, you need to import it specially."]}),"\n",(0,r.jsx)(n.h3,{id:"base64-encode-your-image",children:"base64 encode your image"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["First, you need to encode the image as a ",(0,r.jsx)(n.strong,{children:"base64 string"}),". On a Mac or Linux machine,\nfor example, you can use the ",(0,r.jsx)(n.code,{children:"base64"})," command:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ base64 -i my-image.png\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This will output a base64 encoded string, which you can then copy into a\nTypeScript-importable file:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="my-image.svg.ts"',children:"export default 'data:image/svg+xml;base64,<base64 encoded svg>';\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsxs)(n.p,{children:["Make sure you use the correct ",(0,r.jsx)(n.strong,{children:"MIME type"}),"! For example,\nif you're importing a PNG instead of an SVG file, use:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default 'data:image/png;base64,<base64 encoded png>';\n"})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Now we can import this file into our game and use it as a graphic on an ",(0,r.jsx)(n.code,{children:"Actor"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="main.ts"',children:"import { ..., ImageSource, ... } from 'excalibur';\nimport myImage from './my-image.svg';\n\nconst myImageSource = new ImageSource(undoWhiteSvg);\n\nconst loadImgResources = () => {\n    return Promise.all([myImageSource.load()]);\n};\n\nexport const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n    \n    const desiredWidth = 50;\n\n    loadImgResources().then(() => {\n        const myActor = new Actor({\n            anchor: Anchor.Zero,\n            scale: vec(desiredWidth / sprite.width, desiredWidth / sprite.width)\n        });\n        myActor.graphics.use(myImageSource.toSprite());\n        engine.add(myActor);\n    });\n    \n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"spritesheets",children:"Spritesheets"}),"\n",(0,r.jsxs)(n.p,{children:["We can create a ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/spritesheets",children:(0,r.jsx)(n.code,{children:"SpriteSheet"})})," from\nan ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/docs/imagesource",children:(0,r.jsx)(n.code,{children:"ImageSource"})}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { ..., ImageSource, SpriteSheet, ... } from 'excalibur';\nimport mySpriteSheet from './my-sprite-sheet.png';\n\nconst mySpriteSheetImageSource = new ImageSource(mySpriteSheet);\n\n...\n\nloadImgResources().then(() => {\n    const sheet = SpriteSheet.fromImageSource(mySpriteSheetImageSource);\n    // ...\n};\n\n...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"fonts",children:"Fonts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { ..., Font, ... } from 'excalibur';\nimport myFont from './MyFont.woff';\n\nconst myFontFace = new FontFace('MyFont', `url(${myFont})`);\n\nexport const install: XellyInstallFunction\n    = (context: XellyContext, engine: Engine) => {\n\n    myFontFace.load().then((loaded) => {\n        document.fonts.add(loaded);\n\n        const myFont = new Font({\n            color: Color.Purple,\n            size: 14,\n            family: 'MyFont',\n            unit: FontUnit.Px\n        });\n        \n        engine.add(new Label({\n            text: \"Hello, world!\",\n            font: myFont,\n            pos: vec(\n                (engine.drawWidth - messageDimensions.width) / 2,\n                (engine.drawHeight - messageDimensions.height) / 2),\n        }));\n    });\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"third-party-libraries",children:"Third-party libraries"}),"\n",(0,r.jsx)(n.p,{children:"You can bundle third-party libraries with your game, as long as your final game\nfile isn't larger than the 300kb limit."}),"\n",(0,r.jsxs)(n.p,{children:["(For example, the example ",(0,r.jsx)(n.a,{href:"https://github.com/xelly-games/game-examples/tree/main/sudoku-hi-res",children:"sudoku game"})," uses the\n",(0,r.jsx)(n.a,{href:"https://www.npmjs.com/package/@algorithm.ts/sudoku",children:"@algorithm.ts/sudoku"})," to generate\ngame puzzles.)"]}),"\n",(0,r.jsxs)(n.p,{children:["With our ",(0,r.jsx)(n.a,{href:"/docs/build-a-game/create-your-project#rollupconfigmjs",children:"rollup config"}),",\nany third-party libraries besides ",(0,r.jsx)(n.a,{href:"https://excaliburjs.com/",children:"ExcaliburJS"})," and\n",(0,r.jsx)(n.a,{href:"https://github.com/xelly-games/xelly.js",children:"xelly.js"})," (which are provided by the\nplatform) will automatically bundle when you run ",(0,r.jsx)(n.code,{children:"npm run build"}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);