"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[387],{1753:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"advanced/input","title":"Game I/O","description":"xelly.games is optimized for mobile-first use.","source":"@site/content/advanced/63_input.mdx","sourceDirName":"advanced","slug":"/advanced/input","permalink":"/docs/advanced/input","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":63,"frontMatter":{"title":"Game I/O","description":"xelly.games is optimized for mobile-first use.","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Game Resources","permalink":"/docs/advanced/images-and-fonts"},"next":{"title":"Performance","permalink":"/docs/advanced/performance"}}');var a=t(4848),r=t(8453);const i={title:"Game I/O",description:"xelly.games is optimized for mobile-first use.",hide_title:!0},o=void 0,l={},d=[{value:"Textual Input",id:"textual-input",level:2},{value:"Pointer Events",id:"pointer-events",level:2},{value:"Patterns",id:"patterns",level:2},{value:"Swiping the Screen",id:"swiping-the-screen",level:3},{value:"Dragging an Actor",id:"dragging-an-actor",level:3},{value:"Example Games",id:"example-games",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,a.jsx)("img",{src:t(9947).A,alt:"F1 icon",width:"48",height:"48",style:{display:"block"}}),(0,a.jsx)("span",{children:"Game I/O"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://xelly.games",children:(0,a.jsx)(n.strong,{children:"xelly.games"})})," can be used from both desktop and mobile devices,\nbut it's a social experience, primarily optimized for mobile usage and play."]}),"\n",(0,a.jsx)(n.h2,{id:"textual-input",children:"Textual Input"}),"\n",(0,a.jsxs)(n.p,{children:["Peripheral ",(0,a.jsx)(n.a,{href:"https://excaliburjs.com/docs/keyboard",children:"keyboard support"})," is disabled\nfor xelly.games games, but your game can render its own keyboard or graphical\nelements to capture textual input.\nThis is common for word games, for example.\n(In fact, the ",(0,a.jsxs)(n.a,{href:"https://github.com/xelly-games/xelly.js",children:[(0,a.jsx)(n.code,{children:"@xelly/xelly.js"})," SDK"]}),"\nprovides a ",(0,a.jsx)(n.a,{href:"./pixelized-games#keyboard",children:"keyboard widget"}),"\nthat you can use or fork into your own games.)"]}),"\n",(0,a.jsx)(n.h2,{id:"pointer-events",children:"Pointer Events"}),"\n",(0,a.jsxs)(n.p,{children:["Your games should generally be playable via ",(0,a.jsx)(n.a,{href:"https://excaliburjs.com/docs/pointers",children:"pointer events"}),",\ni.e., mouse and touch events. Many games simply use only tap/click (pointer) events."]}),"\n",(0,a.jsx)(n.p,{children:"This is a very common way to handle taps on game entities/Actors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"myActor.on('pointerdown', (e: PointerEvent) => {\n    // handle tap/click event\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"patterns",children:"Patterns"}),"\n",(0,a.jsxs)(n.admonition,{type:"warning",children:[(0,a.jsxs)(n.p,{children:["If your game supports input other than simple tap/click inputs (e.g., swipe, drag, etc.),\nthen you must declare your\n",(0,a.jsxs)(n.a,{href:"../build-a-game/main-ts#metadata",children:["game a ",(0,a.jsx)(n.code,{children:"Realtime"})," game in your metadata"]}),":"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"export const metadata: XellyMetadata = {\n    type: XellyGameType.Realtime // allow pointer move and drag events\n};\n"})})]}),"\n",(0,a.jsx)(n.h3,{id:"swiping-the-screen",children:"Swiping the Screen"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"let startPos: Vector | undefined = undefined;\nengine.input.pointers.primary.on('down', event => {\n    startPos = event.screenPos;\n});\nengine.input.pointers.primary.on('move', event => {\n    if (startPos) {\n        // handle swipe movement\n    }\n});\nengine.input.pointers.primary.on('up', event => {\n    if (startPos) {\n        // handle swipe end\n        startPos = undefined;\n    }\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"dragging-an-actor",children:"Dragging an Actor"}),"\n",(0,a.jsx)(n.p,{children:"This code shows how to support the user dragging an Actor with their mouse\nor finger:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"let dragOffset: Vector | undefined;\nmyActor.on('pointerdragstart', (event) => {\n    dragOffset = event.screenPos.sub(actor.pos);\n});\nmyActor.on('pointerdragend', (event) => {\n    dragOffset = undefined;\n});\n// using a top-level/engine 'move' event gives a better experience than\n//  actor.on('pointerdragmove', ...) in the case the pointer ends up\n//  not directly over the actor during the movement:\nengine.input.pointers.primary.on('move', event => {\n    if (dragOffset) {\n        myActor.pos = event.screenPos.sub(dragOffset);\n    }\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"example-games",children:"Example Games"}),"\n",(0,a.jsxs)(n.p,{children:["Also take a look at the source code for ",(0,a.jsx)(n.a,{href:"https://github.com/xelly-games/game-examples",children:"example games"}),"\nto see how different I/O patterns are implemented."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},9947:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/wired-outline-733-tap-once-hover-pinch-e06317b2b2c531eb96a57a4bd968cfb2.webp"}}]);