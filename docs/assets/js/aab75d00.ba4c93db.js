"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[35],{1101:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"advanced/performance","title":"Performance","description":"Some tips and tricks to improve your game.","source":"@site/content/advanced/64_performance.mdx","sourceDirName":"advanced","slug":"/advanced/performance","permalink":"/docs/advanced/performance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":64,"frontMatter":{"title":"Performance","description":"Some tips and tricks to improve your game.","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Game I/O","permalink":"/docs/advanced/input"},"next":{"title":"Testing Your Game","permalink":"/docs/advanced/testing-your-game"}}');var s=t(4848),i=t(8453);const a={title:"Performance",description:"Some tips and tricks to improve your game.",hide_title:!0},r=void 0,o={},l=[{value:"Caching Actors",id:"caching-actors",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)("img",{src:t(8469).A,alt:"F1 icon",width:"48",height:"48",style:{display:"block"}}),(0,s.jsx)("span",{children:"Performance"})]}),"\n",(0,s.jsx)(n.p,{children:"Games that run inefficiently, such as those with heavy CPU usage or excessive memory allocation\nleading to frequent garbage collection pauses, may receive reduced visibility in user\ntimelines/feeds."}),"\n",(0,s.jsx)(n.h2,{id:"caching-actors",children:"Caching Actors"}),"\n",(0,s.jsx)(n.p,{children:"Caching frequently created actors is often necessary to prevent garbage collection pauses."}),"\n",(0,s.jsxs)(n.p,{children:["For example, the ",(0,s.jsx)(n.a,{href:"https://xelly.games/game/8c670b68-b5b0-485f-80e3-b6ee3c6ffd43",children:"tetris"}),"\ngame example ",(0,s.jsx)(n.a,{href:"https://github.com/xelly-games/game-examples/blob/ab77414292d12f9e8d83b0ba069ac6e0324ff546/tetris/src/state.ts#L39",children:"uses a cache"}),"\nto store the tetrominoes instead of creating a new entity/Actor each time a new tetromino/piece is spawned:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const cache = new Map<string, Piece>();\n\nconst getPiece = (type: PieceType) => {\n    const existing = cache.get(type.name);\n    if (existing) {\n        existing.reset(); // reset to clean/initial state\n        return existing;\n    }\n    const piece = new Piece(type);\n    cache.set(type.name, piece);\n    return piece;\n};\n\n// ...\n\nfunction spawn() {\n    const randomPieceType = random.pickOne(PIECE_TYPES);\n    const piece = getPiece(randomPieceType);\n    // ...\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://excaliburjs.com/docs/performance/",children:"ExcaliburJS Performance"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var c=t(6540);const s={},i=c.createContext(s);function a(e){const n=c.useContext(i);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),c.createElement(i.Provider,{value:n},e.children)}},8469:(e,n,t)=>{t.d(n,{A:()=>c});const c=t.p+"assets/images/wired-outline-890-f-1-car-loop-cycle-fc33e946204feb1d9feec1bd9be6df08.webp"}}]);