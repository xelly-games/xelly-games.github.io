"use strict";(self.webpackChunkdoc_src=self.webpackChunkdoc_src||[]).push([[104],{8127:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/wired-outline-743-web-code-hover-pinch-1839bd732e6958c91502edd22e27e594.webp"},8273:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"build-a-game/main-ts","title":"The main.ts File","description":"Where the going gets going.","source":"@site/content/build-a-game/main-ts.mdx","sourceDirName":"build-a-game","slug":"/build-a-game/main-ts","permalink":"/docs/build-a-game/main-ts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"The main.ts File","description":"Where the going gets going.","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Hello World!","permalink":"/docs/build-a-game/hello-world"},"next":{"title":"Summary","permalink":"/docs/build-a-game/summary"}}');var l=t(4848),i=t(8453);const r={sidebar_position:4,title:"The main.ts File",description:"Where the going gets going.",hide_title:!0},a=void 0,o={},c=[{value:"Imports",id:"imports",level:2},{value:"Metadata",id:"metadata",level:2},{value:"The <code>install</code> function",id:"the-install-function",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,l.jsx)("img",{src:t(8127).A,alt:"web code animation",width:"48",height:"48",style:{display:"block"}}),(0,l.jsxs)("span",{children:["The ",(0,l.jsx)(n.code,{children:"main.ts"})," File"]})]}),"\n",(0,l.jsxs)(n.p,{children:["Let's explain each section of our ",(0,l.jsx)(n.code,{children:"main.ts"})," file."]}),"\n",(0,l.jsx)(n.h2,{id:"imports",children:"Imports"}),"\n",(0,l.jsxs)(n.p,{children:["First, our ",(0,l.jsx)(n.code,{children:"import"})," statements:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",metastring:'title="src/main.ts"',children:"import * as xel from '@xelly/xelly.js';\nimport {\n    XellyContext,\n    XellyGameType,\n    XellyInstallFunction,\n    XellyMetadata\n} from '@xelly/xelly.js';\nimport {Color, Engine, Font, FontUnit, Label, vec} from 'excalibur';\n\n// ...\n"})}),"\n",(0,l.jsx)(n.p,{children:"Note:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["We can import the full extent of classes from\n",(0,l.jsx)(n.a,{href:"https://excaliburjs.com",children:"ExcaliburJS"})," to build out our games."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import * as xel"})," is the proper way to import the ",(0,l.jsx)(n.a,{href:"https://github.com/xelly-games/xelly.js",children:"xelly.js"})," library\nutilities."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import {XellyContext, ...}"})," is the proper way to import the xelly.js library types."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"metadata",children:"Metadata"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://xelly.games",children:"xelly.games"})})," platform needs to know a few things\nabout your game in order to render it properly in a feed."]}),"\n",(0,l.jsxs)(n.p,{children:["Therefore, all games must export a ",(0,l.jsx)(n.code,{children:"metadata"})," object:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",metastring:'title="src/main.ts"',children:"// ...\n\n/** Metadata. */\nexport const metadata: XellyMetadata = {\n    type: XellyGameType.Passive\n};\n\n// ...\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Here, we indicate that the ",(0,l.jsx)(n.code,{children:"type"})," of game is a ",(0,l.jsx)(n.strong,{children:'"passive"'}),' game, i.e., that\nit is not interactive. Since this was our "Hello World" example, there\'s\nno interactivity yet, so ',(0,l.jsx)(n.code,{children:"XellyGameType.Passive"})," is the correct choice here."]}),"\n",(0,l.jsx)(n.p,{children:"The other types are:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"XellyGameType.TurnBased"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["This is for games that are played in a ",(0,l.jsx)(n.strong,{children:"turn-based"})," fashion; board, card/solitaire\ngames, for example. The xelly.games platform allows ",(0,l.jsx)(n.code,{children:"TurnBased"})," games to accept\ntouch/click events, but a pause button won't be rendered for these games."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"XellyGameType.Realtime"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["This is for ",(0,l.jsx)(n.strong,{children:'"action"-like games'}),' that are played in real-time (e.g., flappy\nbird, breakout, arcade style games, etc). A pause button will be rendered\nfor these games, and these games will be auto-paused if a user\nscrolls away "mid play". These games also can "terminate" (for example, if\nthe player character dies) and users will then be able to restart the game.']}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"XellyGameType.Interactive"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Interactive games are less common. These are games that are action-oriented\nlike realtime games but that do not never terminate (i.e., reach a win or\nlose state)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.h2,{id:"the-install-function",children:["The ",(0,l.jsx)(n.code,{children:"install"})," function"]}),"\n",(0,l.jsxs)(n.p,{children:["All games must export an ",(0,l.jsx)(n.code,{children:"install"})," function."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://xelly.games",children:"xelly.games"})}),"\nplatform will call this function when the game is loaded (or when the user\nrequests to reset/restart the game)."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["An ",(0,l.jsx)(n.a,{href:"https://excaliburjs.com",children:"ExcaliburJS"})," ",(0,l.jsx)(n.code,{children:"engine"})," instance is passed to this\nfunction. You will never instantiate an ",(0,l.jsx)(n.code,{children:"Engine"})," instance yourself.\nThe platform will configure and install one for you before ",(0,l.jsx)(n.code,{children:"install"}),"-ing\nyour game."]}),"\n",(0,l.jsxs)(n.li,{children:['In our "Hello World" example, we only add a single ',(0,l.jsx)(n.code,{children:"Entity"})," to the engine, a\n",(0,l.jsx)(n.code,{children:"Label"}),' that says "Hello, world!". We do a little simple math\nto center the ',(0,l.jsx)(n.code,{children:"Label"})," on the screen:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",metastring:'title="src/main.ts"',children:'// ...\n\n/** Install. */\nexport const install: XellyInstallFunction = (context: XellyContext, engine: Engine) => {\n    const message = "Hello, world!";\n    const messageDimensions = font24.measureText(message);\n    engine.add(new Label({\n        text: "Hello, world!",\n        font: font24,\n        pos: vec(\n            (engine.drawWidth - messageDimensions.width) / 2,\n            (engine.drawHeight - messageDimensions.height) / 2),\n    }));\n};\n\n// ...\n'})}),"\n",(0,l.jsx)(n.p,{children:'That\'s it for "Hello World"!'}),"\n",(0,l.jsxs)(n.p,{children:["If you are familiar with ",(0,l.jsx)(n.a,{href:"https://excaliburjs.com",children:"ExcaliburJS"}),", you could start\nbuilding out your game from here."]}),"\n",(0,l.jsx)(n.p,{children:"However, you'll probably want to explore these platform-specific topics before\nyou publish your first game:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"TODO"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const l={},i=s.createContext(l);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);